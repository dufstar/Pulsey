"use strict";function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _inherits(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function findAnchors(){for(var t=0;t<pulsyAnchors.length;t++)pulsyArray[t]={dotId:t,tooltipHeader:"Default header",tooltipNote:"Default note",tooltipCustom:"Add your custom HTML here.",dotClicked:!1,coordinates:pulsyAnchors[t].getBoundingClientRect(),positionFixed:"fixed"===window.getComputedStyle(pulsyAnchors[t],null).getPropertyValue("position"),dotOptions:{horizontal:0,vertical:0,transition:!1},tooltipOptions:{horizontal:0,vertical:0,transition:!1}}}var _createClass=function(){function t(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}return function(e,o,l){return o&&t(e.prototype,o),l&&t(e,l),e}}(),_get=function(t,e,o){for(var l=!0;l;){var r=t,i=e,n=o;s=p=a=void 0,l=!1,null===r&&(r=Function.prototype);var s=Object.getOwnPropertyDescriptor(r,i);if(void 0!==s){if("value"in s)return s.value;var a=s.get;return void 0===a?void 0:a.call(n)}var p=Object.getPrototypeOf(r);if(null===p)return void 0;t=p,e=i,o=n,l=!0}},PulsyUnderlay=function(t){function e(){_classCallCheck(this,e),_get(Object.getPrototypeOf(e.prototype),"constructor",this).apply(this,arguments)}return _inherits(e,t),_createClass(e,[{key:"render",value:function(){var t={background:"rgba(76,147,234,0.5)",zIndex:"9998",position:"absolute",left:"0",top:"0",width:"100vw",height:"100vh"};return React.createElement("div",{style:t,onClick:this.props.toggleUnderlay})}}]),e}(React.Component),PulsyTooltip=React.createClass({displayName:"PulsyTooltip",render:function(){var t=this.props.pulsyObj,e=t.coordinates,o=t.tooltipOptions.vertical,l=t.tooltipOptions.horizontal,r=this.props.pulsyObj.positionFixed,i={pulsyTooltip:{minWidth:"200px",minHeight:"35px",background:"#eee",position:"absolute",top:r?(e.top+e.bottom)/2+o:(e.top+e.bottom)/2+window.scrollY+o,left:r?(e.left+e.right)/2+l:(e.left+e.right)/2+window.scrollX+l,transform:"translate(-50%,0)",padding:"15px",textAlign:"left",borderRadius:"2px",zIndex:"9999",":hover":{background:"#ddd"}},closeTooltip:{color:"#333",transform:"translate(-50%, -5%) rotate(-45deg)",position:"absolute",top:"0",right:"0",fontSize:"20px",fontFamily:"sans-serif",fontWeight:"300",cursor:"pointer"}};return React.createElement("div",{style:i.pulsyTooltip},React.createElement("div",null,this.props.pulsyObj.tooltipNote),React.createElement("div",null,this.props.pulsyObj.tooltipCustom),React.createElement("div",{style:i.closeTooltip,onClick:this.props.toggleUnderlay}," + "))}}),PulsyDot=React.createClass({displayName:"PulsyDot",getInitialState:function(){return{showTooltip:!1,dotClicked:this.props.pulsyObj.dotClicked||localStorage.getItem("dotClicked"+this.props.pulsyObj.dotId)}},dotClick:function(){this.setState({showTooltip:!this.state.showTooltip,dotClicked:!this.state.dotClicked}),this.props.pulsyObj.dotClicked=!this.state.dotClicked,localStorage.setItem("dotClicked"+this.props.pulsyObj.dotId,!0),this.props.toggleUnderlay},toggleTooltip:function(){this.setState({showTooltip:!1})},render:function(){var t=this.props.pulsyObj,e=t.coordinates,o=t.dotOptions.vertical,l=t.dotOptions.horizontal,r={pulsyDot:{top:t.positionFixed?(e.top+e.bottom)/2:(e.top+e.bottom)/2+o+window.scrollY,left:t.positionFixed?(e.left+e.right)/2:(e.left+e.right)/2+l+window.scrollX,position:"absolute",display:"inline-block",width:"20px",height:"20px",transform:"translate(-50%,-50%)",background:"rgba(255,255,255,0.5)",borderRadius:"100%",cursor:"pointer",zIndex:"9997"},pulsyFront:{position:"absolute",display:"inline-block",width:"50px",height:"50px",background:"rgba(255,255,255,0.8)",borderRadius:"100%",left:"50%",top:"50%",transform:"translate(-50%,-50%)",cursor:"pointer",zIndex:"9999"}},i="pulse-"+this.props.dotId,n=this.state.dotClicked?null:React.createElement("div",{style:r.pulsyDot,onClick:this.dotClick,className:i},React.createElement("div",{style:r.pulsyFront,className:"spinner"})),s=this.state.showTooltip?React.createElement("div",null,React.createElement(PulsyTooltip,{pulsyObj:this.props.pulsyObj,toggleUnderlay:this.toggleTooltip}),React.createElement(PulsyUnderlay,{toggleUnderlay:this.toggleTooltip})):null;return React.createElement("div",null,n,s)}}),PulsyTour=React.createClass({displayName:"PulsyTour",getInitialState:function(){return{showTooltip:!1}},resetStorage:function(){localStorage.clear()},toggleUnderlay:function(){this.setState({showUnderlay:!this.state.showUnderlay})},closeTooltip:function(){this.setState({showTooltip:!this.state.showTooltip})},render:function(){for(var t={zIndex:"9999",position:"absolute"},e=pulsyAnchors.length,o=[],l=0;e>l;l++)o.push(React.createElement(PulsyDot,{showTooltip:this.state.showTooltip,pulsyObj:this.props.pulsyArray[l]}));return React.createElement("div",{style:t},o,React.createElement("button",{onClick:this.resetStorage},"Reset Storage"))}}),pulsyAnchors=document.getElementsByClassName("anchor"),pulsyArray=[];findAnchors();var pulsyTour=React.createElement(PulsyTour,{pulsyArray:pulsyArray});React.render(pulsyTour,document.getElementById("pulsy-tour")),window.onresize=function(){findAnchors(),React.render(pulsyTour,document.getElementById("pulsy-tour"))},window.onscroll=function(){findAnchors(),React.render(pulsyTour,document.getElementById("pulsy-tour"))};